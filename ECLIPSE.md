# Eclipse Settings

The default development environment for SAPL is Eclipse. The reason for this is, that the core of SAPL is based on XText, which is an Eclipse project itself and has matching tooling for Eclipse.

This document outlines some key configurations to make in your Eclipse install to have the best development experience.

## JDK 

The policy engine uses JDK 17 as a baseline. You can use any JDK newer than JDK 17 to run Eclipse. It is however recommended to install a JDK 17 for building the actual project. You can download a current version of JDK 17 from (https://adoptium.net). We recommend a ZIP. Unpack the ZIP to a folder of your choosing. In your workspace, go to "Window -> Preferences...". Now search for "JDK" and under "Installed JREs" "Add..." the JDK 17 providing your local installation path.

## Code Formatter and Warnings

SAPL applies a standardized code formatting style based on the Eclipse auto formatter. Import the settings from the [SAPL Formatter setting XML](https://github.com/heutelbeck/sapl-policy-engine/blob/master/sapl-code-style/src/main/resources/eclipse/formatter.xml) file. To import it go to "Window -> Preferences". Then navigate to "Java -> Code Style -> Formatter" and use "Import..." to import the settings.

## Mandatory Eclipse Plug-Ins 

The following Plug-Ins are mandatory to have installed in order to be able to work with the SAPL source code without a lot of errors within the IDE.

### Project Lombok integration.

SAPL makes extensive use of Lombok to eliminate boilerplate code. Without the Lombok Plug-in installed, that methods generated by Lombok will not be visible to Eclipse and the project will be littered with errors within the IDE, even when the code is correct and fully functional.

The Lombok Plug-in cannot be downloaded via the Eclipse Marketplace. Please download it from the official [Project Lombok download page](https://projectlombok.org/download).

### PDE Integration

SAPL generates an Eclipse Plug-in. This requires the tycho tooling for building and packaging. Eclipse itself cannot deal with this out of the box.
Install the "M2E - PDE Integration" from the update site [Eclipse IDE integration for Maven](https://download.eclipse.org/technology/m2e/releases/latest). Use the "Help -> Install New Software..." menu in Eclipse. The update site should already be present.

Next, determine your Eclipse version. Go to Help->About Eclipse IDE. In the dialogue there will be a version indicated: `Version: 2025-06 (4.36.0)`. The important part is the version in the brackets. 
Now, go to "Help -> Install New Software..." add the update site (https://download.eclipse.org/eclipse/updates/4.xx), where `xx` is the minor version as indicated in the version identified. In this case, 3.36. 
Now install all modules under "Eclipse Plugin Development Tools".

### Xtext Eclipse Plug-In

To get support for editing the Xtext grammar files, install the "Eclipse Xtext" plug-in. Use the "Help -> Eclipse Marketplace..." menu and search for "Xtext".

## Optional Plug-Ins

### Spring Tools 4

To get quality of life improvements for the Spring components install "Spring Tools 4" from "Help -> Eclipse Marketplace...".

### SonarQube for IDE

To identify issues which would surface in SonarCloud as well early before pushing, install "SonarQube for IDE" from "Help -> Eclipse Marketplace...".

### SpotBugs

To identify issues which would surface in SonarCloud as well early before pushing, install "SpotBugs Eclipse plugin" from "Help -> Eclipse Marketplace...".
